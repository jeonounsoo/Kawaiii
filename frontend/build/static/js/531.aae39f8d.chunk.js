"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[531],{4800:function(e,n,a){a.d(n,{Z:function(){return s}});a(2791);var t=a(184),s=function(e){return(0,t.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},7212:function(e,n,a){a.d(n,{Z:function(){return l}});var t=a(885),s=a(2791),r=a(3999),i=a(184),l=function(e){var n=(0,s.useState)(),a=(0,t.Z)(n,2),l=a[0],u=a[1],o=(0,s.useState)(),c=(0,t.Z)(o,2),d=c[0],p=c[1],m=(0,s.useState)(!1),v=(0,t.Z)(m,2),f=v[0],x=v[1],h=(0,s.useRef)();(0,s.useEffect)((function(){if(l){var e=new FileReader;e.onload=function(){p(e.result)},e.readAsDataURL(l)}}),[l]);return(0,i.jsxs)("div",{className:"form-control",children:[(0,i.jsx)("input",{id:e.id,ref:h,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg,.gif",onChange:function(n){var a,t=f;n.target.files&&1===n.target.files.length?(a=n.target.files[0],u(a),x(!0),t=!0):(x(!1),t=!1),e.onInput(e.id,a,t)}}),(0,i.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[(0,i.jsxs)("div",{className:"image-upload__preview",children:[d&&(0,i.jsx)("img",{src:d,alt:"Preview"}),!d&&(0,i.jsx)("p",{children:"Please pick an image."})]}),(0,i.jsx)(r.Z,{type:"button",onClick:function(){h.current.click()},children:"PICK IMAGE"})]}),!f&&(0,i.jsx)("p",{children:e.errorText})]})}},4191:function(e,n,a){a.r(n),a.d(n,{default:function(){return j}});var t=a(4165),s=a(5861),r=a(1413),i=a(885),l=a(2791),u=a(4800),o=a(2810),c=a(3999),d=a(3407),p=a(5094),m=a(3108),v=a(7212),f=a(1828),x=a(6986),h=a(9508),g=a(184),j=function(){var e=(0,l.useContext)(m.V),n=(0,l.useState)(!0),a=(0,i.Z)(n,2),j=a[0],Z=a[1],w=(0,h.x)(),k=w.isLoading,y=w.error,I=w.sendRequest,b=w.clearError,P=(0,p.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),N=(0,i.Z)(P,3),C=N[0],S=N[1],T=N[2],O=function(){var n=(0,s.Z)((0,t.Z)().mark((function n(a){var s,r,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),!j){n.next=13;break}return n.prev=2,n.next=5,I("http://localhost:5000/api/users/login","POST",JSON.stringify({email:C.inputs.email.value,password:C.inputs.password.value}),{"Content-Type":"application/json"});case 5:s=n.sent,e.login(s.userId,s.token),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:n.next=27;break;case 13:return n.prev=13,(r=new FormData).append("email",C.inputs.email.value),r.append("name",C.inputs.name.value),r.append("password",C.inputs.password.value),r.append("image",C.inputs.image.value),n.next=21,I("http://localhost:5000/api/users/signup","POST",r);case 21:i=n.sent,e.login(i.userId,i.token),n.next=27;break;case 25:n.prev=25,n.t1=n.catch(13);case 27:case"end":return n.stop()}}),n,null,[[2,9],[13,25]])})));return function(e){return n.apply(this,arguments)}}();return(0,g.jsxs)(l.Fragment,{children:[(0,g.jsx)(x.Z,{error:y,onClear:b}),(0,g.jsxs)(u.Z,{className:"authentication",children:[k&&(0,g.jsx)(f.Z,{asOverlay:!0}),(0,g.jsx)("h2",{children:"Login Required"}),(0,g.jsx)("hr",{}),(0,g.jsxs)("form",{onSubmit:O,children:[!j&&(0,g.jsx)(o.Z,{element:"input",id:"name",type:"text",label:"Your Name",validators:[(0,d.hg)()],errorText:"Please enter a name.",onInput:S}),!j&&(0,g.jsx)(v.Z,{center:!0,id:"image",onInput:S,errorText:"Please provide an image."}),(0,g.jsx)(o.Z,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[(0,d.Ox)()],errorText:"Please enter a valid email address.",onInput:S}),(0,g.jsx)(o.Z,{element:"input",id:"password",type:"password",label:"Password",validators:[(0,d.CP)(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:S}),(0,g.jsx)(c.Z,{type:"submit",disabled:!C.isValid,children:j?"LOGIN":"SIGNUP"})]}),(0,g.jsxs)(c.Z,{inverse:!0,onClick:function(){j?T((0,r.Z)((0,r.Z)({},C.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):T((0,r.Z)((0,r.Z)({},C.inputs),{},{name:void 0,image:void 0}),C.inputs.email.isValid&&C.inputs.password.isValid),Z((function(e){return!e}))},children:["SWITCH TO ",j?"SIGNUP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=531.aae39f8d.chunk.js.map